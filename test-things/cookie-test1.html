<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>Cookie Example</title>
<script>
// 当页面加载完成时执行
window.onload = function() {
    // 读取Cookie中的div数量
    var divCount = getCookie("divCount");
    // 如果Cookie存在，转换为数字并添加相应数量的div
    if (divCount) {
        divCount = parseInt(divCount);
        for (var i = 0; i < divCount; i++) {
            addDiv();
        }
    }
};

// 添加div的函数
function addDiv() {
    // 创建新的div元素
    var newDiv = document.createElement("div");
    newDiv.innerHTML = "New Div";
    newDiv.style.marginTop = "10px";
    // 将div添加到body中
    document.body.appendChild(newDiv);
    
    // 读取当前div的数量，增加1，然后更新Cookie
    var divCount = getCookie("divCount");
    divCount = divCount ? parseInt(divCount) + 1 : 1;
    document.cookie = "divCount=" + divCount + "; path=/";
}

// 获取Cookie的函数
function getCookie(name) {
    var cookieArray = document.cookie.split(';');
    for(var i = 0; i < cookieArray.length; i++) {
        var cookiePair = cookieArray[i].split('=');
        if(name == cookiePair[0].trim()) {
            return decodeURIComponent(cookiePair[1]);
        }
    }
    return null;
}
</script>
</head>
<body>

<button onclick="addDiv()">添加div</button>

</body>
</html>
 
